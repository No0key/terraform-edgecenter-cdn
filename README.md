# terraform-edgecenter-cdn
Terraform module to provision CDN resources in Edgecenter.

<!-- BEGIN_TF_DOCS -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.3.0 |
| <a name="requirement_edgecenter"></a> [edgecenter](#requirement\_edgecenter) | 0.7.3 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_edgecenter"></a> [edgecenter](#provider\_edgecenter) | 0.7.3 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [edgecenter_cdn_origingroup.main](https://registry.terraform.io/providers/Edge-Center/edgecenter/0.7.3/docs/resources/cdn_origingroup) | resource |
| [edgecenter_cdn_resource.main](https://registry.terraform.io/providers/Edge-Center/edgecenter/0.7.3/docs/resources/cdn_resource) | resource |
| [edgecenter_cdn_sslcert.main](https://registry.terraform.io/providers/Edge-Center/edgecenter/0.7.3/docs/resources/cdn_sslcert) | resource |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_origin_groups"></a> [origin\_groups](#input\_origin\_groups) | Origin group definition for CDN | <pre>object({<br>    name     = string<br>    use_next = bool<br>    origins = list(object({<br>      source  = string<br>      enabled = bool<br>    }))<br>  })</pre> | n/a | yes |
| <a name="input_resource_options"></a> [resource\_options](#input\_resource\_options) | The options for the CDN resource | <pre>object({<br>    allowed_http_methods           = object({ value = set(string), enabled = optional(bool) })<br>    brotli_compression             = object({ value = set(string), enabled = optional(bool) })<br>    browser_cache_settings         = object({ enabled = optional(bool), value = optional(string) })<br>    cache_http_headers             = object({ value = set(string), enabled = optional(bool) })<br>    cors                           = object({ value = set(string), always = optional(bool), enabled = optional(bool, false) })<br>    country_acl                    = object({ excepted_values = set(string), policy_type = string, enabled = optional(bool) })<br>    disable_proxy_force_ranges     = object({ value = bool, enabled = optional(bool) })<br>    edge_cache_settings            = object({ custom_values = optional(map(string)), default = optional(string), enabled = optional(bool), value = optional(string) })<br>    fetch_compressed               = object({ value = bool, enabled = optional(bool) })<br>    follow_origin_redirect         = object({ codes = set(number), enabled = optional(bool), use_host = optional(bool) })<br>    force_return                   = object({ code = number, body = optional(string), enabled = optional(bool) })<br>    forward_host_header            = object({ value = bool, enabled = optional(bool) })<br>    gzip_on                        = object({ value = bool, enabled = optional(bool) })<br>    host_header                    = object({ value = string, enabled = optional(bool) })<br>    ignore_cookie                  = object({ value = bool, enabled = optional(bool) })<br>    ignore_query_string            = object({ value = bool, enabled = optional(bool) })<br>    image_stack                    = object({ quality = number, avif_enabled = optional(bool), enabled = optional(bool), png_lossless = optional(bool), webp_enabled = optional(bool) })<br>    ip_address_acl                 = object({ excepted_values = set(string), policy_type = string, enabled = optional(bool) })<br>    limit_bandwidth                = object({ limit_type = string, buffer = optional(number), enabled = optional(bool), speed = optional(number) })<br>    proxy_cache_methods_set        = object({ value = bool, enabled = optional(bool) })<br>    query_params_blacklist         = object({ value = set(string), enabled = optional(bool) })<br>    query_params_whitelist         = object({ value = set(string), enabled = optional(bool) })<br>    redirect_http_to_https         = object({ value = bool, enabled = optional(bool) })<br>    redirect_https_to_http         = object({ value = bool, enabled = optional(bool) })<br>    referrer_acl                   = object({ excepted_values = set(string), policy_type = string, enabled = optional(bool) })<br>    response_headers_hiding_policy = object({ excepted = set(string), mode = string, enabled = optional(bool) })<br>    rewrite                        = object({ body = string, enabled = optional(bool), flag = optional(string) })<br>    secure_key                     = object({ key = string, type = number, enabled = optional(bool) })<br>    slice                          = object({ value = bool, enabled = optional(bool) })<br>    sni                            = object({ custom_hostname = optional(string), enabled = optional(bool), sni_type = optional(string) })<br>    stale                          = object({ value = set(string), enabled = optional(bool) })<br>    static_headers                 = object({ value = map(string), enabled = optional(bool) })<br>    static_request_headers         = object({ value = map(string), enabled = optional(bool) })<br>    static_response_headers        = object({ value = list(object({ name = string, value = set(string), always = optional(bool) })), enabled = optional(bool) })<br>    user_agent_acl                 = object({ excepted_values = set(string), policy_type = string, enabled = optional(bool) })<br>    websockets                     = object({ value = bool, enabled = optional(bool) })<br>  })</pre> | <pre>{<br>  "allowed_http_methods": {<br>    "enabled": false,<br>    "value": [<br>      "GET",<br>      "HEAD"<br>    ]<br>  },<br>  "brotli_compression": {<br>    "enabled": false,<br>    "value": [<br>      ""<br>    ]<br>  },<br>  "browser_cache_settings": {<br>    "enabled": false,<br>    "value": ""<br>  },<br>  "cache_http_headers": {<br>    "enabled": false,<br>    "value": []<br>  },<br>  "cors": {<br>    "always": false,<br>    "enabled": false,<br>    "value": []<br>  },<br>  "country_acl": {<br>    "enabled": false,<br>    "excepted_values": [],<br>    "policy_type": ""<br>  },<br>  "disable_proxy_force_ranges": {<br>    "enabled": false,<br>    "value": false<br>  },<br>  "edge_cache_settings": {<br>    "custom_values": {},<br>    "default": "2d",<br>    "enabled": true,<br>    "value": ""<br>  },<br>  "fetch_compressed": {<br>    "enabled": false,<br>    "value": false<br>  },<br>  "follow_origin_redirect": {<br>    "codes": [],<br>    "enabled": false,<br>    "use_host": false<br>  },<br>  "force_return": {<br>    "body": "",<br>    "code": 0,<br>    "enabled": false<br>  },<br>  "forward_host_header": {<br>    "enabled": false,<br>    "value": false<br>  },<br>  "gzip_on": {<br>    "enabled": false,<br>    "value": false<br>  },<br>  "host_header": {<br>    "enabled": false,<br>    "value": ""<br>  },<br>  "ignore_cookie": {<br>    "enabled": false,<br>    "value": false<br>  },<br>  "ignore_query_string": {<br>    "enabled": false,<br>    "value": false<br>  },<br>  "image_stack": {<br>    "avif_enabled": false,<br>    "enabled": false,<br>    "png_lossless": false,<br>    "quality": 0,<br>    "webp_enabled": false<br>  },<br>  "ip_address_acl": {<br>    "enabled": false,<br>    "excepted_values": [],<br>    "policy_type": ""<br>  },<br>  "limit_bandwidth": {<br>    "buffer": 0,<br>    "enabled": false,<br>    "limit_type": "",<br>    "speed": 0<br>  },<br>  "proxy_cache_methods_set": {<br>    "enabled": false,<br>    "value": false<br>  },<br>  "query_params_blacklist": {<br>    "enabled": false,<br>    "value": []<br>  },<br>  "query_params_whitelist": {<br>    "enabled": false,<br>    "value": []<br>  },<br>  "redirect_http_to_https": {<br>    "enabled": false,<br>    "value": false<br>  },<br>  "redirect_https_to_http": {<br>    "enabled": false,<br>    "value": false<br>  },<br>  "referrer_acl": {<br>    "enabled": false,<br>    "excepted_values": [],<br>    "policy_type": ""<br>  },<br>  "response_headers_hiding_policy": {<br>    "enabled": false,<br>    "excepted": [],<br>    "mode": ""<br>  },<br>  "rewrite": {<br>    "body": "",<br>    "enabled": false,<br>    "flag": ""<br>  },<br>  "secure_key": {<br>    "enabled": false,<br>    "key": "",<br>    "type": 0<br>  },<br>  "slice": {<br>    "enabled": false,<br>    "value": false<br>  },<br>  "sni": {<br>    "custom_hostname": "",<br>    "enabled": false,<br>    "sni_type": ""<br>  },<br>  "stale": {<br>    "enabled": false,<br>    "value": []<br>  },<br>  "static_headers": {<br>    "enabled": false,<br>    "value": {}<br>  },<br>  "static_request_headers": {<br>    "enabled": false,<br>    "value": {}<br>  },<br>  "static_response_headers": {<br>    "enabled": false,<br>    "value": [<br>      {<br>        "always": false,<br>        "name": "",<br>        "value": []<br>      }<br>    ]<br>  },<br>  "user_agent_acl": {<br>    "enabled": false,<br>    "excepted_values": [],<br>    "policy_type": ""<br>  },<br>  "websockets": {<br>    "enabled": false,<br>    "value": false<br>  }<br>}</pre> | no |
| <a name="input_resources"></a> [resources](#input\_resources) | CDN resource definition | <pre>map(object({<br>    cname               = string<br>    active              = bool<br>    ssl_automated       = optional(bool)<br>    ssl_data            = optional(number)<br>    ssl_enabled         = optional(bool)<br>    description         = optional(string)<br>    issue_le_cert       = optional(bool)<br>    origin_group        = optional(number)<br>    secondary_hostnames = optional(set(string))<br>  }))</pre> | n/a | yes |
| <a name="input_ssl_certificate_fullchain"></a> [ssl\_certificate\_fullchain](#input\_ssl\_certificate\_fullchain) | SSL ceritificate full chain | `string` | `""` | no |
| <a name="input_ssl_certificate_name"></a> [ssl\_certificate\_name](#input\_ssl\_certificate\_name) | SSL certificate | `string` | `""` | no |
| <a name="input_ssl_certificate_private_key"></a> [ssl\_certificate\_private\_key](#input\_ssl\_certificate\_private\_key) | SSL certificate private key | `string` | `""` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_edgecenter_cdn_origingroup_id"></a> [edgecenter\_cdn\_origingroup\_id](#output\_edgecenter\_cdn\_origingroup\_id) | The ID of the CDN Origin Group |
| <a name="output_edgecenter_cdn_resource_id"></a> [edgecenter\_cdn\_resource\_id](#output\_edgecenter\_cdn\_resource\_id) | The ID of the CDN Resource |
| <a name="output_edgecenter_cdn_ssl_certificate_id"></a> [edgecenter\_cdn\_ssl\_certificate\_id](#output\_edgecenter\_cdn\_ssl\_certificate\_id) | SSL certificate ID |
<!-- END_TF_DOCS -->
